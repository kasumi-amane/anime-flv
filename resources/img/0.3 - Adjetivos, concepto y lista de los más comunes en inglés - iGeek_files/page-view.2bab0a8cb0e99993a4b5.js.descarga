(self.webpackChunk=self.webpackChunk||[]).push([[8315,7519],{57705:function(e,t,n){"use strict";n.r(t),n.d(t,{isAdBlockerEnabled:function(){return i}});const i=async()=>{const e=document.querySelector(".ad-zone");return!window.adsEnabled||!document.getElementById("NWlMCIrkYBFj")||e&&0===e.offsetHeight}},78846:function(e,t,n){("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"826b24669286ca4832b41092e286f370ec1b6921"}},14909:function(e,t,n){"use strict";var i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.setUserId=t.setDocId=t.logEvent=t.default=void 0;var o=n(38652),d=i(n(10752));const a={queue:[],timeout:null,visibilityListener:null,userId:null,docId:null},s=()=>{if(0===a.queue.length)return;const e=[...a.queue];a.queue=[],async function(e){var t,n,i,s,r,l,c;const u=await d.default,f=document.querySelector("meta[name=x-web-analytics]");let g=a.docId||(null==f||null===(t=f.dataset)||void 0===t?void 0:t.docId)||(null===(n=window.slideshare_object)||void 0===n||null===(i=n.slideshow)||void 0===i?void 0:i.id)||null;g&&(g=parseInt(g,10));let w=a.userId||(null==f||null===(s=f.dataset)||void 0===s?void 0:s.userId)||(null===(r=window.slideshare_object)||void 0===r||null===(l=r.user)||void 0===l?void 0:l.id)||null;w&&(w=parseInt(w,10));const v={events:e,location:location.href,product:"slideshare",page_view_id:u,referrer:document.referrer||null,browser_id:(0,o.getCookie)("browser_id"),doc_id:g,user_id:w};let _;_=null!==(c=window.slideshare_object)&&void 0!==c&&c.web_analytics_url?`${window.slideshare_object.web_analytics_url}/api/v1/events`:"https://wa.slideshare.net/api/v1/events";let h=!1;if(navigator.sendBeacon)try{h=navigator.sendBeacon(_,JSON.stringify(v))}catch{console.warn(`Failed to send tracking event to ${_}`)}h||(await fetch(_,{method:"POST",body:JSON.stringify(v),credentials:"include"})).ok||console.warn("cannot send events")}(e)},r=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("undefined"==typeof window)return;"string"!=typeof e&&null!==e&&(e=JSON.stringify(e)),"string"!=typeof t&&null!==t&&(t=JSON.stringify(t));const i=(new Date).toISOString();a.queue.push({name:e,value:t,timestamp:i}),(a.queue.length>=10||n)&&s(),a.timeout||(a.timeout=setTimeout((()=>{a.timeout=null,s()}),1e3)),a.visibilityListener||(a.visibilityListener=window.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&s()})))};t.logEvent=r;var l=r;t.default=l,t.setUserId=e=>{a.userId=e},t.setDocId=e=>{a.docId=e},r("page_loaded")},38652:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendTrackingEventBatch=t.sendTrackingEvent=t.sendFTSingle=t.getSlideshowId=t.getPageKey=t.getCookie=void 0;const n=(e,t)=>{if(t.append("authenticity_token",$('meta[name="csrf-token"]').attr("content")),navigator.sendBeacon)try{navigator.sendBeacon(e,t)}catch{console.warn(`Failed to send tracking event to ${e}`)}else $.ajax({url:e,data:t,processData:!1,contentType:!1,type:"POST",success:function(t){t&&!t.success&&console.warn(`Failed to send tracking event to ${e}`)}})},i=e=>{const t=new FormData;return Object.keys(e).forEach((n=>{t.append(n,JSON.stringify(e[n]))})),t};t.sendTrackingEvent=(e,t)=>{n("/frontend_tracking/track_event",i({event_name:e,event_body:t}))},t.sendTrackingEventBatch=e=>{n("/frontend_tracking/track_batch",i({events:e}))},t.sendFTSingle=(e,t)=>{n("/ft/single",i({event_name:e,event_body:t}))},t.getCookie=e=>{if(document.cookie){const t=document.cookie.split("; ").find((t=>t.startsWith(`${e}=`)));return t?t.split("=")[1]:""}return""},t.getPageKey=()=>window.slideshare_object&&window.slideshare_object.page_key||null,t.getSlideshowId=()=>window.slideshare_object&&window.slideshare_object.slideshow&&window.slideshare_object.slideshow.id||"-1"},10752:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Promise((e=>{try{e(([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))))}catch(t){console.log(`failed to generate uuid: ${t}`),fetch("/api/internal/uuid").then((e=>e.json())).then((t=>e(t[0]))).catch((()=>{e(null)}))}}));t.default=n},33185:function(e,t,n){"use strict";var i=n(64836),o=n(38652),d=n(57705),a=i(n(14909));window.addEventListener("load",(()=>{(async()=>{const e=await(0,d.isAdBlockerEnabled)();console.log("adblockEnabled",e),(0,o.sendFTSingle)("frontend_page_view_event_stream",{path:window.location.pathname,slideshow_id:(0,o.getSlideshowId)(),page_key:(0,o.getPageKey)(),referrer:document.referrer,adblock_enabled:e,feature_flags:JSON.stringify(window.feature_flags)}),(0,a.default)("page_view",{path:window.location.pathname,page_key:(0,o.getPageKey)(),referrer:document.referrer,adblock_enabled:e})})()}))},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){var t=function(t){return e(e.s=t)};t(78846),t(33185)}]);
//# sourceMappingURL=page-view.2bab0a8cb0e99993a4b5.js.map